(this["webpackJsonpr3f-sparks"]=this["webpackJsonpr3f-sparks"]||[]).push([[0],{15:function(e,t,r){},26:function(e,t,r){e.exports=r(35)},35:function(e,t,r){"use strict";r.r(t);var a=r(4),n=r(1),o=r(8),s=r.n(o),i=r(0),c=r.n(i),l=r(3),u=r(6),m=r.n(u),h=r(22);var f=Object(i.forwardRef)((e,t)=>{let r=e.children,a=e.vAlign,o=void 0===a?"center":a,s=e.hAlign,u=void 0===s?"center":s,m=e.size,f=void 0===m?1:m,d=(e.color,Object(h.a)(e,["children","vAlign","hAlign","size","color"]));const v=Object(l.d)(n.FontLoader,"/Cyberpunk_Regular.json"),p=Object(i.useMemo)(()=>({font:v,size:5,height:3}),[v]),g=Object(l.f)(e=>{const t=new n.Vector3;e.geometry.computeBoundingBox(),e.geometry.boundingBox.getSize(t),e.position.x="center"===u?-t.x/2:"right"===u?0:-t.x,e.position.y="center"===o?-t.y/2:"top"===o?0:-t.y},[r]);return c.a.createElement("group",Object.assign({ref:t},d,{scale:[.1*f,.1*f,.1]}),c.a.createElement("mesh",{ref:g},c.a.createElement("textGeometry",{attach:"geometry",args:[r,p]}),c.a.createElement("meshNormalMaterial",{attach:"material"})))}),d=r(23),v=r(10),p=r(20),g=r(24),y=r(25),b=r(2),x={uniforms:{tDiffuse:{value:null},tDisp:{value:null},byp:{value:0},amount:{value:.08},angle:{value:.02},seed:{value:.02},seed_x:{value:.02},seed_y:{value:.02},distortion_x:{value:.5},distortion_y:{value:.6},col_s:{value:.05}},vertexShader:"varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n    }",fragmentShader:"uniform int byp; //should we apply the glitch\n    uniform sampler2D tDiffuse;\n    uniform sampler2D tDisp;\n    uniform float amount;\n    uniform float angle;\n    uniform float seed;\n    uniform float seed_x;\n    uniform float seed_y;\n    uniform float distortion_x;\n    uniform float distortion_y;\n    uniform float col_s;\n    varying vec2 vUv;\n    float rand(vec2 co){\n      return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n    }\n    void main() {\n      if(byp<1) {\n        vec2 p = vUv;\n        float xs = floor(gl_FragCoord.x / 0.5);\n        float ys = floor(gl_FragCoord.y / 0.5);\n        //based on staffantans glitch shader for unity https://github.com/staffantan/unityglitch\n        vec4 normal = texture2D (tDisp, p*seed*seed);\n        if(p.y<distortion_x+col_s && p.y>distortion_x-col_s*seed) {\n          if(seed_x>0.){\n            p.y = 1. - (p.y + distortion_y);\n          }\n          else {\n            p.y = distortion_y;\n          }\n        }\n        p.x+=normal.x*seed_x*(seed/5.);\n        p.y+=normal.y*seed_y*(seed/5.);\n        //base from RGB shift shader\n        vec2 offset = amount * vec2( cos(angle), sin(angle));\n        vec4 cr = texture2D(tDiffuse, p + offset);\n        vec4 cga = texture2D(tDiffuse, p);\n        vec4 cb = texture2D(tDiffuse, p - offset);\n        gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\n      }\n      else {\n        gl_FragColor=texture2D (tDiffuse, vUv);\n      }\n    }"},M=function(e){b.a.call(this),void 0===x&&console.error("THREE.GlitchPass relies on THREE.DigitalGlitch");var t=x;this.uniforms=n.UniformsUtils.clone(t.uniforms),void 0===e&&(e=64),this.uniforms.tDisp.value=this.generateHeightmap(e),this.material=new n.ShaderMaterial({uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader}),this.camera=new n.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new n.Scene,this.quad=new n.Mesh(new n.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad),this.factor=0};M.prototype=Object.assign(Object.create(b.a.prototype),{constructor:M,render:function(e,t,r,a,o){const s=Math.max(0,this.factor);this.uniforms.tDiffuse.value=r.texture,this.uniforms.seed.value=Math.random()*s,this.uniforms.byp.value=0,s?(this.uniforms.amount.value=Math.random()/90*s,this.uniforms.angle.value=n.Math.randFloat(-Math.PI,Math.PI)*s,this.uniforms.distortion_x.value=n.Math.randFloat(0,1)*s,this.uniforms.distortion_y.value=n.Math.randFloat(0,1)*s,this.uniforms.seed_x.value=n.Math.randFloat(-.3,.3)*s,this.uniforms.seed_y.value=n.Math.randFloat(-.3,.3)*s):this.uniforms.byp.value=1,this.quad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),e.render(this.scene,this.camera)):(e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera))},generateHeightmap:function(e){for(var t=new Float32Array(e*e*3),r=e*e,a=0;a<r;a++){var o=n.Math.randFloat(0,1);t[3*a+0]=o,t[3*a+1]=o,t[3*a+2]=o}var s=new n.DataTexture(t,e,e,n.RGBFormat,n.FloatType);return s.needsUpdate=!0,s}});var w={uniforms:{byp:{value:0},texture:{type:"t",value:null},time:{type:"f",value:0},factor:{type:"f",value:0},resolution:{type:"v2",value:null}},vertexShader:"varying vec2 vUv;\n    void main(){  \n      vUv = uv; \n      vec4 modelViewPosition = modelViewMatrix * vec4(position, 1.0);\n      gl_Position = projectionMatrix * modelViewPosition;\n    }",fragmentShader:"uniform int byp; //should we apply the glitch ?\n    uniform float time;\n    uniform float factor;\n    uniform vec2 resolution;\n    uniform sampler2D texture;\n    \n    varying vec2 vUv;\n    \n    void main() {  \n      if (byp<1) {\n        vec2 uv1 = vUv;\n        vec2 uv = gl_FragCoord.xy/resolution.xy;\n        float frequency = 6.0;\n        float amplitude = 0.015 * factor;\n        float x = uv1.y * frequency + time * .7; \n        float y = uv1.x * frequency + time * .3;\n        uv1.x += cos(x+y) * amplitude * cos(y);\n        uv1.y += sin(x-y) * amplitude * cos(y);\n        vec4 rgba = texture2D(texture, uv1);\n        gl_FragColor = rgba;\n      } else {\n        gl_FragColor = texture2D(texture, vUv);\n      }\n    }"},E=function(e){b.a.call(this),void 0===w&&console.error("THREE.WaterPass relies on THREE.WaterShader");var t=w;this.uniforms=n.UniformsUtils.clone(t.uniforms),void 0===e&&(e=64),this.uniforms.resolution.value=new n.Vector2(e,e),this.material=new n.ShaderMaterial({uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader}),this.camera=new n.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new n.Scene,this.quad=new n.Mesh(new n.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad),this.factor=0,this.time=0};function O({down:e}){const t=Object(i.useRef)(),r=Object(l.e)(),a=r.scene,o=r.gl,s=r.size,u=r.camera,m=Object(i.useMemo)(()=>new n.Vector2(512,512),[]);return Object(i.useEffect)(()=>{t.current.setSize(s.width,s.height)},[s]),Object(l.c)(()=>t.current.render(),1),c.a.createElement("effectComposer",{ref:t,args:[o]},c.a.createElement("renderPass",{attachArray:"passes",scene:a,camera:u}),c.a.createElement("waterPass",{attachArray:"passes",factor:1.5}),c.a.createElement("unrealBloomPass",{attachArray:"passes",args:[m,2,1,0]}),c.a.createElement("glitchPass",{attachArray:"passes",factor:e?1:0}))}E.prototype=Object.assign(Object.create(b.a.prototype),{constructor:E,render:function(e,t,r,a,n){const o=Math.max(0,this.factor);this.uniforms.byp.value=o?0:1,this.uniforms.texture.value=r.texture,this.uniforms.time.value=this.time,this.uniforms.factor.value=this.factor,this.time+=.05,this.quad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),e.render(this.scene,this.camera)):(e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera))}}),Object(l.b)({EffectComposer:d.a,ShaderPass:v.a,RenderPass:p.a,WaterPass:E,UnrealBloomPass:g.a,FilmPass:y.a,GlitchPass:M});var j=r(21);Object(l.b)(j);const P=()=>Math.max(.2,Math.random());function _({curve:e,width:t,color:r,speed:a}){const n=Object(i.useRef)();return Object(l.c)(()=>n.current.uniforms.dashOffset.value-=a),c.a.createElement("mesh",null,c.a.createElement("meshLine",{attach:"geometry",vertices:e}),c.a.createElement("meshLineMaterial",{attach:"material",ref:n,transparent:!0,depthTest:!1,lineWidth:t,color:r,dashArray:.1,dashRatio:.95}))}function F({mouse:e,count:t,colors:r,radius:a=10}){const o=Object(i.useMemo)(()=>new Array(t).fill().map((e,t)=>{const o=new n.Vector3(Math.sin(0)*a*P(),Math.cos(0)*a*P(),0),s=new Array(30).fill().map((e,t)=>{const r=t/20*Math.PI*2;return o.add(new n.Vector3(Math.sin(r)*a*P(),Math.cos(r)*a*P(),0)).clone()}),i=new n.CatmullRomCurve3(s).getPoints(1e3);return{color:r[parseInt(r.length*Math.random())],width:Math.max(.1,.2*t/10),speed:Math.max(.001,.004*Math.random()),curve:i}}),[t]),s=Object(i.useRef)(),u=Object(l.e)(),h=u.size,f=u.viewport,d=h.width/f.width;return Object(l.c)(()=>{s.current&&(s.current.rotation.x=m()(s.current.rotation.x,0+e.current[1]/d/200,.1),s.current.rotation.y=m()(s.current.rotation.y,0+e.current[0]/d/400,.1))}),c.a.createElement("group",{ref:s},c.a.createElement("group",{position:[2*-a,-a,-10],scale:[1,1.3,1]},o.map((e,t)=>c.a.createElement(_,Object.assign({key:t},e)))))}r(15);function C({count:e,mouse:t}){const r=Object(i.useRef)(),a=Object(i.useRef)(),o=Object(l.e)(),s=o.size,u=o.viewport,m=s.width/u.width,h=Object(i.useMemo)(()=>new n.Object3D,[]),f=Object(i.useMemo)(()=>{const t=[];for(let r=0;r<e;r++){const e=100*Math.random(),r=20+100*Math.random(),a=.01+Math.random()/200,n=100*Math.random()-50,o=100*Math.random()-50,s=100*Math.random()-50;t.push({t:e,factor:r,speed:a,xFactor:n,yFactor:o,zFactor:s,mx:0,my:0})}return t},[e]);return Object(l.c)(e=>{a.current.position.set(t.current[0]/m,-t.current[1]/m,0),f.forEach((e,a)=>{let n=e.t,o=e.factor,s=e.speed,i=e.xFactor,c=e.yFactor,l=e.zFactor;n=e.t+=s/2;const u=Math.cos(n)+Math.sin(1*n)/10,m=Math.sin(n)+Math.cos(2*n)/10,f=Math.cos(n);e.mx+=.01*(t.current[0]-e.mx),e.my+=.01*(-1*t.current[1]-e.my),h.position.set(e.mx/10*u+i+Math.cos(n/10*o)+Math.sin(1*n)*o/10,e.my/10*m+c+Math.sin(n/10*o)+Math.cos(2*n)*o/10,e.my/10*m+l+Math.cos(n/10*o)+Math.sin(3*n)*o/10),h.scale.set(f,f,f),h.rotation.set(5*f,5*f,5*f),h.updateMatrix(),r.current.setMatrixAt(a,h.matrix)}),r.current.instanceMatrix.needsUpdate=!0}),c.a.createElement(c.a.Fragment,null,c.a.createElement("pointLight",{ref:a,distance:40,intensity:8,color:"lightblue"}),c.a.createElement("instancedMesh",{ref:r,args:[null,null,e]},c.a.createElement("dodecahedronBufferGeometry",{attach:"geometry",args:[.2,0]}),c.a.createElement("meshPhongMaterial",{attach:"material",color:"#050505"})))}function D(e){const t=Object(i.useMemo)(()=>{const e=new n.EllipseCurve(0,0,10,3,0,2*Math.PI,!1,0).getPoints(50);return(new n.BufferGeometry).setFromPoints(e)},[]);return c.a.createElement("line",Object.assign({geometry:t},e),c.a.createElement("meshBasicMaterial",{attach:"material"}))}function S(e){return c.a.createElement("group",e,c.a.createElement(D,null),c.a.createElement(D,{rotation:[0,0,Math.PI/3]}),c.a.createElement(D,{rotation:[0,0,-Math.PI/3]}),c.a.createElement("mesh",null,c.a.createElement("sphereBufferGeometry",{attach:"geometry",args:[.5,32,32]}),c.a.createElement("meshBasicMaterial",{attach:"material",color:"red"})))}function R({mouse:e,hover:t}){const r=Object(i.useRef)(),a=Object(l.e)(),n=a.size,o=a.viewport,s=n.width/o.width;return Object(l.c)(t=>{r.current&&(r.current.position.x=m()(r.current.position.x,e.current[0]/s/10,.1),r.current.rotation.x=m()(r.current.rotation.x,0+e.current[1]/s/50,.1),r.current.rotation.y=.8)}),c.a.createElement(i.Suspense,{fallback:null},c.a.createElement("group",{ref:r},c.a.createElement(f,{size:10,onClick:e=>window.open("https://github.com/react-spring/react-three-fiber/blob/master/whatsnew.md","_blank"),onPointerOver:()=>t(!0),onPointerOut:()=>t(!1)},"NINOV"),c.a.createElement(S,{position:[35,-20,0],scale:[1,.5,1]})))}function U(){const e=Object(i.useState)(!1),t=Object(a.a)(e,2),r=t[0],o=t[1],s=Object(i.useState)(!1),u=Object(a.a)(s,2),m=u[0],h=u[1],f=Object(i.useRef)([0,0]),d=Object(i.useCallback)(({clientX:e,clientY:t})=>f.current=[e-window.innerWidth/2,t-window.innerHeight/2],[]),v=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);return Object(i.useEffect)(()=>{document.body.style.cursor=r?"pointer":"url('https://raw.githubusercontent.com/chenglou/react-motion/master/demos/demo8-draggable-list/cursor.png') 39 39, auto"},[r]),c.a.createElement(l.a,{pixelRatio:Math.min(2,v?window.devicePixelRatio:1),camera:{fov:100,position:[0,0,30]},onMouseMove:d,onMouseUp:()=>h(!1),onMouseDown:()=>h(!0),onCreated:({gl:e})=>{e.toneMapping=n.Uncharted2ToneMapping,e.setClearColor(new n.Color("#020207"))}},c.a.createElement("fog",{attach:"fog",args:["white",50,190]}),c.a.createElement("pointLight",{distance:100,intensity:4,color:"white"}),c.a.createElement(R,{mouse:f,hover:o}),c.a.createElement(C,{count:v?5e3:1e4,mouse:f}),c.a.createElement(F,{count:20,mouse:f,colors:["#A2CCB6","#FCEEB5","#EE786E","#e0feff","lightpink","lightblue"]}),c.a.createElement(O,{down:m}))}s.a.render(c.a.createElement(U,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.9112b4fe.chunk.js.map